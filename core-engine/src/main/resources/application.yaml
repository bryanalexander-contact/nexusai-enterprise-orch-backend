spring:
  application:
    name: NexusAI-Backend

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/nexusai} 
    username: myuser
    password: mypassword
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    # Eliminado hibernate.dialect para evitar el warning de Spring Boot 3.5.x

  # Configuración para Kafka
  kafka:
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
    consumer:
      group-id: nexusai-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer

  # Configuración para Spring AI 1.1.0-M1 (Google GenAI)
  ai:
    google:
      genai:
        api-key: ${GOOGLE_API_KEY}
        project-id: ${GOOGLE_PROJECT_ID:nexusai-project-id}
        chat:
          options:
            model: gemini-1.5-flash
            temperature: 0.7

# Monitoreo
management:
  endpoints:
    web:
      exposure:
        include: prometheus, health, info
  endpoint:
    health:
      show-details: always
  metrics:
    tags:
      application: ${spring.application.name}
  prometheus:
    metrics:
      export:
        enabled: true

app:
  billing:
    cost-per-request: 0.05
    initial-balance: 1.00
  stripe:
    api-key: ${STRIPE_API_KEY}